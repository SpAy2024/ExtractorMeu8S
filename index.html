<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Extractor M3U8</title>
  <script>
    async function extractM3U8(url) {
      try {
        const response = await fetch(url);
        const html = await response.text();

        const m3u8Regex = /https?:\/\/[^\s"']+\.m3u8[^\s"']*/g;
        const match = html.match(m3u8Regex);

        if (match && match.length > 0) {
          // Mostrar solo la primera URL M3U8 encontrada (limpia y sin etiquetas HTML)
          document.body.innerText = match[0];
        } else {
          document.body.innerText = "⛔ No se encontró ninguna URL M3U8";
        }
      } catch (error) {
        document.body.innerText = "⛔ Error al extraer M3U8: " + error.message;
      }
    }

    window.onload = () => {
      const urlParam = new URLSearchParams(window.location.search).get("url");
      if (urlParam) {
        document.body.innerText = "🔎 Analizando...";
        extractM3U8(urlParam);
      } else {
        document.body.innerText = "❗ Debes proporcionar una URL con ?url=";
      }
    };
  </script>
</head>
<body>
  <p>Cargando extractor M3U8...</p>
</body>
</html>

